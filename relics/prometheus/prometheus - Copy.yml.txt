global:
  scrape_interval: 5s
  evaluation_interval: 15s
rule_files:
  - /etc/prometheus/rules/*.yml 
scrape_configs:
  - job_name: 'charity-sentry'
    metrics_path: /metrics
    static_configs:
      - targets: ['host.docker.internal:8150']   # real Sentry

  - job_name: 'charity-sentry-smoke'
    metrics_path: /metrics
    static_configs:
      - targets: ['host.docker.internal:18150']  # alt-port smoke Sentry (optional)
    file_sd_configs:
      - files: ["/etc/prometheus/targets/smoke.json"]
        refresh_interval: 30s

  - job_name: 'pushgateway'
    static_configs:
      - targets: ['pushgateway:9091']
